(this["webpackJsonpbackapp-v2"]=this["webpackJsonpbackapp-v2"]||[]).push([[0],{103:function(e,a,t){e.exports=t(116)},108:function(e,a,t){},116:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(10),o=t.n(l),c=(t(108),t(23)),i=t(11),s=t(41),u=t.n(s),m=t(52),p=t(12),d=t(181),E=t(162),g=t(158),h=t(176),b=t(160),f=t(179),v=t(163),w=t(177),j=t(57),S=t.n(j),O=t(45),y=t(156),x=t(157);function k(){return r.a.createElement("div",{className:"modal"},r.a.createElement("div",null))}function C(){return r.a.createElement(O.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ","Ed Amor"," ",(new Date).getFullYear(),".")}var N=Object(y.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function B(e){var a=e.onChangeUsername,t=e.onChangePassword,n=e.onBlurUsername,l=e.onBlurPassword,o=e.uNError,i=e.pWError,s=e.uNHelpText,u=e.pWHelpText,m=e.handleSignIn,p=e.isLoading,j=N();return r.a.createElement(x.a,{component:"main",maxWidth:"xs"},r.a.createElement(g.a,null),r.a.createElement("div",{className:j.paper},r.a.createElement(d.a,{className:j.avatar},r.a.createElement(S.a,null)),r.a.createElement(O.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:j.form,noValidate:!0},r.a.createElement(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,onBlur:function(){return n()},onChange:function(e){return a(e.target.value)},helperText:s,error:o}),r.a.createElement(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onBlur:function(){return l()},onChange:function(e){return t(e.target.value)},helperText:u,error:i}),r.a.createElement(b.a,{control:r.a.createElement(f.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(E.a,{type:"button",fullWidth:!0,variant:"contained",className:j.submit,onClick:m,disabled:p},p?r.a.createElement("div",{className:"loader"}):"Sign In"),r.a.createElement(v.a,{container:!0,justify:"flex-end"},r.a.createElement(v.a,{item:!0},r.a.createElement(c.b,{to:"/register",variant:"body2"},"Don't have an account? Sign Up"))))),r.a.createElement(w.a,{mt:8},r.a.createElement(C,null)),r.a.createElement(k,null))}function T(){var e=Object(n.useState)(!1),a=Object(p.a)(e,2),t=a[0],l=a[1],o=Object(i.g)(),c=Object(n.useState)(""),s=Object(p.a)(c,2),d=s[0],E=s[1],g=Object(n.useState)(""),h=Object(p.a)(g,2),b=h[0],f=h[1],v=Object(n.useState)(!1),w=Object(p.a)(v,2),j=w[0],S=w[1],O=Object(n.useState)(!1),y=Object(p.a)(O,2),x=y[0],k=y[1],C=Object(n.useState)(""),N=Object(p.a)(C,2),T=N[0],I=N[1],P=Object(n.useState)(""),M=Object(p.a)(P,2),W=M[0],U=M[1],F=function(e){return E(e)},A=function(e){return f(e)},D=function(){S(!1),I("")},R=function(){k(!1),U("")};function H(e){var a=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),t=decodeURIComponent(atob(a).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(t)}var J=function(){var e=Object(m.a)(u.a.mark((function e(){var a,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={username:d,password:b},e.next=3,fetch("https://young-anchorage-59812.herokuapp.com/login",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify(a)});case 3:if((t=e.sent).ok){e.next=10;break}throw l(!1),console.log("response status: "+t.status),new Error("HTTP error! status: ".concat(t.status));case 10:return l(!1),e.next=13,t.text();case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(e){l(!0),J().then((function(e){"Username is invalid"===e&&(I(e),S(!0)),"Password is incorrect"===e?(U(e),k(!0)):(console.log("data: "+e),console.log(H(e).user),localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(H(e).user)),I(""),S(!1),U(""),k(!1),o.replace("/"))})).catch((function(e){return console.log("error "+e)}))},q=!!localStorage.getItem("token");return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.b,{render:function(e){var a=e.location;return q?r.a.createElement(i.a,{to:{pathname:"/",state:{from:a}}}):r.a.createElement(B,{onChangeUsername:F,onChangePassword:A,onBlurUsername:D,onBlurPassword:R,uNError:j,pWError:x,uNHelpText:T,pWHelpText:W,handleSignIn:L,isLoading:t})}}))}function I(){return r.a.createElement(O.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ","Ed Amor"," ",(new Date).getFullYear(),".")}var P=Object(y.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function M(e){var a=e.REGISTER_URL,t=P(),l=Object(n.useState)(!1),o=Object(p.a)(l,2),i=o[0],s=o[1],j=Object(n.useState)(!1),y=Object(p.a)(j,2),k=y[0],C=y[1],N=Object(n.useState)(!1),B=Object(p.a)(N,2),T=B[0],M=B[1],W=Object(n.useState)(""),U=Object(p.a)(W,2),F=U[0],A=U[1],D=Object(n.useState)("Personal"),R=Object(p.a)(D,2),H=R[0],J=R[1],L=Object(n.useState)(""),q=Object(p.a)(L,2),V=q[0],G=q[1],z=Object(n.useState)(""),Y=Object(p.a)(z,2),_=Y[0],X=Y[1],$=Object(n.useCallback)((function(e){A(e.target.value.trim())}),[]),K=Object(n.useCallback)((function(e){J(e.target.value.trim())}),[]),Q=Object(n.useCallback)((function(e){G(e.target.value.trim())}),[]),Z=Object(n.useCallback)((function(e){X(e.target.value.trim())}),[]),ee=["Username be at least 4 characters","Field cannot be left blank","Password must be at least 8 characters","Passwords don't match"],ae=Object(n.useState)(""),te=Object(p.a)(ae,2),ne=te[0],re=te[1],le=Object(n.useState)(""),oe=Object(p.a)(le,2),ce=oe[0],ie=oe[1],se=Object(n.useState)(""),ue=Object(p.a)(se,2),me=ue[0],pe=ue[1],de=Object(n.useCallback)((function(e){""===e.target.value?(s(!0),re(ee[1])):F.length<4?(s(!0),re(ee[0])):(s(!1),re(""))}),[ee,F]),Ee=Object(n.useCallback)((function(e){""===e.target.value?(C(!0),ie(ee[1])):V.length<8?(C(!0),ie(ee[2])):""!==_&&V!==_?(C(!0),M(!0),ie(ee[3]),pe(ee[3])):(C(!1),M(!1),ie(""))}),[ee,V,_]),ge=Object(n.useCallback)((function(e){_!==V?(M(!0),C(!0),pe(ee[3]),ie(ee[3])):""===_?(M(!0),pe(ee[1])):(M(!1),C(!1),pe(""))}),[ee,_,V]),he=function(e){k&&T&&(ie(""),pe(""))},be=function(){var e=Object(m.a)(u.a.mark((function e(){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={username:F,password:V},n=a+H,e.next=4,fetch(n,{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify(t)});case 4:if((r=e.sent).ok){e.next=9;break}throw new Error("HTTP error! status: ".concat(r.status));case 9:return e.next=11,r.json();case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(x.a,{component:"main",maxWidth:"xs"},r.a.createElement(g.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(d.a,{className:t.avatar},r.a.createElement(S.a,null)),r.a.createElement(O.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:t.form,noValidate:!0},r.a.createElement(v.a,{container:!0,spacing:2},r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(h.a,{autoComplete:"uname",name:"username",variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",autoFocus:!0,error:i,onBlur:de,onChange:$,value:F,helperText:ne})),r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(h.a,{variant:"outlined",required:!0,fullWidth:!0,id:"userType",label:"Account Type",autoComplete:"userType",onChange:K,value:H,SelectProps:{native:!0},select:!0},[{id:1,label:"Personal"},{id:2,label:"Partner"}].map((function(e){return r.a.createElement("option",{key:e.id,value:e.label},e.label)})))),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(h.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",error:k,onBlur:Ee,onChange:Q,value:V,helperText:ce,onFocus:he})),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(h.a,{variant:"outlined",required:!0,fullWidth:!0,id:"confirm-password",label:"Confirm Password",type:"password",name:"confirm-password",autoComplete:"current-password",error:T,onBlur:ge,onChange:Z,value:_,helperText:me,onFocus:he})),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(b.a,{control:r.a.createElement(f.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."}))),r.a.createElement(E.a,{type:"button",fullWidth:!0,variant:"contained",className:t.submit,onClick:function(){be().then((function(e){alert("Success"),console.log(e)})).catch((function(e){return console.log(e)}))}},"Sign Up"),r.a.createElement(v.a,{container:!0,justify:"flex-end"},r.a.createElement(v.a,{item:!0},r.a.createElement(c.b,{to:"/login",variant:"body2"},"Already have an account? Sign in"))))),r.a.createElement(w.a,{mt:5},r.a.createElement(I,null)))}function W(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(M,{REGISTER_URL:"https://young-anchorage-59812.herokuapp.com/register/"}))}var U=t(86);function F(e){var a=e.children,t=Object(U.a)(e,["children"]),n=!!localStorage.getItem("token");return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.b,Object.assign({},t,{render:function(e){var t=e.location;return n?a:r.a.createElement(i.a,{to:{pathname:"/login",state:{from:t}}})}})))}var A=t(62),D=t(80),R=t(3),H=t(180),J=t(170),L=t(171),q=t(159),V=t(172),G=t(161),z=t(118),Y=t(164),_=t(81),X=t.n(_),$=t(82),K=t.n($),Q=t(173),Z=t(174),ee=t(175),ae=t(83),te=t.n(ae),ne=t(84),re=t.n(ne),le=t(85),oe=t.n(le),ce=t(68),ie=t.n(ce);function se(e){return r.a.createElement(O.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},e.children)}function ue(e){e.preventDefault()}var me=Object(y.a)({depositContext:{flex:1}});function pe(){var e=me();return r.a.createElement(r.a.Fragment,null,r.a.createElement(se,null,"Recent Bookings"),r.a.createElement(O.a,{component:"p",variant:"h4"},"$3,024.00"),r.a.createElement(O.a,{color:"textSecondary",className:e.depositContext},"on 15 March, 2019"),r.a.createElement("div",null,r.a.createElement(Y.a,{color:"primary",href:"#",onClick:ue},"View balance")))}var de=t(165),Ee=t(169),ge=t(168),he=t(166),be=t(167);function fe(e,a,t,n,r,l){return{id:e,date:a,name:t,shipTo:n,paymentMethod:r,amount:l}}var ve=[fe(0,"16 Mar, 2019","Elvis Presley","Tupelo, MS","VISA \u2800\u2022\u2022\u2022\u2022 3719",312.44),fe(1,"16 Mar, 2019","Paul McCartney","London, UK","VISA \u2800\u2022\u2022\u2022\u2022 2574",866.99),fe(2,"16 Mar, 2019","Tom Scholz","Boston, MA","MC \u2800\u2022\u2022\u2022\u2022 1253",100.81),fe(3,"16 Mar, 2019","Michael Jackson","Gary, IN","AMEX \u2800\u2022\u2022\u2022\u2022 2000",654.39),fe(4,"15 Mar, 2019","Bruce Springsteen","Long Branch, NJ","VISA \u2800\u2022\u2022\u2022\u2022 5919",212.79)];function we(e){e.preventDefault()}var je=Object(y.a)((function(e){return{seeMore:{marginTop:e.spacing(3)}}}));function Se(){var e=je();return r.a.createElement(r.a.Fragment,null,r.a.createElement(se,null,"Recent Orders"),r.a.createElement(de.a,{size:"small"},r.a.createElement(he.a,null,r.a.createElement(be.a,null,r.a.createElement(ge.a,null,"Date"),r.a.createElement(ge.a,null,"Name"),r.a.createElement(ge.a,null,"Ship To"),r.a.createElement(ge.a,null,"Payment Method"),r.a.createElement(ge.a,{align:"right"},"Sale Amount"))),r.a.createElement(Ee.a,null,ve.map((function(e){return r.a.createElement(be.a,{key:e.id},r.a.createElement(ge.a,null,e.date),r.a.createElement(ge.a,null,e.name),r.a.createElement(ge.a,null,e.shipTo),r.a.createElement(ge.a,null,e.paymentMethod),r.a.createElement(ge.a,{align:"right"},e.amount))})))),r.a.createElement("div",{className:e.seeMore},r.a.createElement(Y.a,{color:"primary",href:"#",onClick:we},"See more orders")))}function Oe(){return r.a.createElement(O.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(Y.a,{color:"inherit",href:"https://material-ui.com/"},"Ed Amor")," ",(new Date).getFullYear(),".")}var ye=Object(y.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(A.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function xe(){var e=ye(),a=r.a.useState(!0),t=Object(p.a)(a,2),n=t[0],l=t[1],o=Object(R.a)(e.paper,e.fixedHeight),c=Object(i.g)(),s=function(){localStorage.clear(),c.replace("/")},u=JSON.parse(localStorage.getItem("user"));return r.a.createElement("div",{className:e.root},r.a.createElement(g.a,null),r.a.createElement(J.a,{position:"absolute",className:Object(R.a)(e.appBar,n&&e.appBarShift)},r.a.createElement(L.a,{className:e.toolbar},r.a.createElement(G.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){l(!0)},className:Object(R.a)(e.menuButton,n&&e.menuButtonHidden)},r.a.createElement(X.a,null)),r.a.createElement(O.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title},"Dashboard"),r.a.createElement(G.a,{color:"inherit",onClick:s},r.a.createElement(ie.a,null)))),r.a.createElement(H.a,{variant:"temporary",classes:{paper:Object(R.a)(e.drawerPaper,!n&&e.drawerPaperClose)},open:n},r.a.createElement("div",{className:e.toolbarIcon},r.a.createElement(G.a,{onClick:function(){l(!1)}},r.a.createElement(K.a,null))),r.a.createElement(V.a,null),r.a.createElement(q.a,null,r.a.createElement(Q.a,{button:!0,onClick:function(){c.replace("/")}},r.a.createElement(Z.a,null,r.a.createElement(te.a,null)),r.a.createElement(ee.a,{primary:"Dashboard"})),r.a.createElement(Q.a,{button:!0,onClick:function(){c.replace("/bookings")}},r.a.createElement(Z.a,null,r.a.createElement(re.a,null)),r.a.createElement(ee.a,{primary:"My Bookings"})),r.a.createElement(Q.a,{button:!0,onClick:function(){c.replace("/book")}},r.a.createElement(Z.a,null,r.a.createElement(oe.a,null)),r.a.createElement(ee.a,{primary:"Book a Service"}))),r.a.createElement(V.a,null),r.a.createElement(q.a,null,r.a.createElement(Q.a,{button:!0,onClick:s},r.a.createElement(Z.a,null,r.a.createElement(ie.a,null)),r.a.createElement(ee.a,{primary:"Logout"})))),r.a.createElement("main",{className:e.content},r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(x.a,{maxWidth:"lg",className:e.container},r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",render:function(){return r.a.createElement(v.a,{container:!0,spacing:3},r.a.createElement(v.a,{item:!0,xs:12,md:8,lg:9},r.a.createElement(z.a,{className:o},r.a.createElement("div",null,r.a.createElement("h1",null,"Hello, ",u.username,"!")))),r.a.createElement(v.a,{item:!0,xs:12,md:4,lg:3},r.a.createElement(z.a,{className:o},r.a.createElement(pe,null))),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(z.a,{className:e.paper},r.a.createElement(Se,null))))}}),r.a.createElement(i.b,{path:"/bookings",render:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Bookings"))}}),r.a.createElement(i.b,{path:"/book",render:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Book a new request."))}})),r.a.createElement(w.a,{pt:4},r.a.createElement(Oe,null)))))}function ke(){return r.a.createElement(i.b,{path:"/"},r.a.createElement(xe,null))}var Ce=function(){return r.a.createElement(c.a,{basename:"/backapp3"},r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/login",children:r.a.createElement(T,null)}),r.a.createElement(i.b,{path:"/register",children:r.a.createElement(W,null)}),r.a.createElement(F,{path:"/"},r.a.createElement(ke,null)),r.a.createElement(i.b,{path:"*",render:function(e){var a=e.location;return r.a.createElement(i.a,{to:{pathname:"/",state:{from:a}}})}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[103,1,2]]]);
//# sourceMappingURL=main.c90ae2b7.chunk.js.map
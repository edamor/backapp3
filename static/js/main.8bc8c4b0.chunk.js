(this["webpackJsonpbackapp-v2"]=this["webpackJsonpbackapp-v2"]||[]).push([[0],{103:function(e,a,t){e.exports=t(116)},108:function(e,a,t){},116:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(10),o=t.n(l),c=(t(108),t(23)),i=t(11),s=t(41),u=t.n(s),m=t(52),p=t(13),d=t(182),E=t(162),g=t(158),h=t(176),b=t(160),f=t(179),v=t(163),w=t(177),j=t(57),y=t.n(j),S=t(45),O=t(156),x=t(157);function C(){return r.a.createElement(S.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ","Ed Amor"," ",(new Date).getFullYear(),".")}var k=Object(O.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function N(e){var a=e.onChangeUsername,t=e.onChangePassword,n=e.onBlurUsername,l=e.onBlurPassword,o=e.uNError,i=e.pWError,s=e.uNHelpText,u=e.pWHelpText,m=e.handleSignIn,p=k();return r.a.createElement(x.a,{component:"main",maxWidth:"xs"},r.a.createElement(g.a,null),r.a.createElement("div",{className:p.paper},r.a.createElement(d.a,{className:p.avatar},r.a.createElement(y.a,null)),r.a.createElement(S.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:p.form,noValidate:!0},r.a.createElement(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,onBlur:function(){return n()},onChange:function(e){return a(e.target.value)},helperText:s,error:o}),r.a.createElement(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onBlur:function(){return l()},onChange:function(e){return t(e.target.value)},helperText:u,error:i}),r.a.createElement(b.a,{control:r.a.createElement(f.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(E.a,{type:"button",fullWidth:!0,variant:"contained",className:p.submit,onClick:m},"Sign In"),r.a.createElement(v.a,{container:!0,justify:"flex-end"},r.a.createElement(v.a,{item:!0},r.a.createElement(c.b,{to:"/register",variant:"body2"},"Don't have an account? Sign Up"))))),r.a.createElement(w.a,{mt:8},r.a.createElement(C,null)))}function B(){var e=Object(i.g)(),a=Object(n.useState)(""),t=Object(p.a)(a,2),l=t[0],o=t[1],c=Object(n.useState)(""),s=Object(p.a)(c,2),d=s[0],E=s[1],g=Object(n.useState)(!1),h=Object(p.a)(g,2),b=h[0],f=h[1],v=Object(n.useState)(!1),w=Object(p.a)(v,2),j=w[0],y=w[1],S=Object(n.useState)(""),O=Object(p.a)(S,2),x=O[0],C=O[1],k=Object(n.useState)(""),B=Object(p.a)(k,2),T=B[0],I=B[1],P=function(e){return o(e)},M=function(e){return E(e)},W=function(){f(!1),C("")},U=function(){y(!1),I("")};function D(e){var a=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),t=decodeURIComponent(atob(a).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(t)}var F=function(){var e=Object(m.a)(u.a.mark((function e(){var a,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={username:l,password:d},e.next=3,fetch("https://young-anchorage-59812.herokuapp.com/login",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify(a)});case 3:if((t=e.sent).ok){e.next=9;break}throw console.log("response status: "+t.status),new Error("HTTP error! status: ".concat(t.status));case 9:return e.next=11,t.text();case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(a){F().then((function(a){"Username is invalid"===a&&(C(a),f(!0)),"Password is incorrect"===a?(I(a),y(!0)):(console.log("data: "+a),console.log(D(a).user),localStorage.setItem("token",a),localStorage.setItem("user",JSON.stringify(D(a).user)),C(""),f(!1),I(""),y(!1),e.replace("/"))})).catch((function(e){return console.log("error "+e)}))},R=!!localStorage.getItem("token");return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.b,{render:function(e){var a=e.location;return R?r.a.createElement(i.a,{to:{pathname:"/",state:{from:a}}}):r.a.createElement(N,{onChangeUsername:P,onChangePassword:M,onBlurUsername:W,onBlurPassword:U,uNError:b,pWError:j,uNHelpText:x,pWHelpText:T,handleSignIn:A})}}))}function T(){return r.a.createElement(S.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ","Ed Amor"," ",(new Date).getFullYear(),".")}var I=Object(O.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function P(e){var a=e.REGISTER_URL,t=I(),l=Object(n.useState)(!1),o=Object(p.a)(l,2),i=o[0],s=o[1],j=Object(n.useState)(!1),O=Object(p.a)(j,2),C=O[0],k=O[1],N=Object(n.useState)(!1),B=Object(p.a)(N,2),P=B[0],M=B[1],W=Object(n.useState)(""),U=Object(p.a)(W,2),D=U[0],F=U[1],A=Object(n.useState)("Personal"),R=Object(p.a)(A,2),H=R[0],J=R[1],q=Object(n.useState)(""),L=Object(p.a)(q,2),V=L[0],G=L[1],z=Object(n.useState)(""),Y=Object(p.a)(z,2),_=Y[0],X=Y[1],$=Object(n.useCallback)((function(e){F(e.target.value.trim())}),[]),K=Object(n.useCallback)((function(e){J(e.target.value.trim())}),[]),Q=Object(n.useCallback)((function(e){G(e.target.value.trim())}),[]),Z=Object(n.useCallback)((function(e){X(e.target.value.trim())}),[]),ee=["Username be at least 4 characters","Field cannot be left blank","Password must be at least 8 characters","Passwords don't match"],ae=Object(n.useState)(""),te=Object(p.a)(ae,2),ne=te[0],re=te[1],le=Object(n.useState)(""),oe=Object(p.a)(le,2),ce=oe[0],ie=oe[1],se=Object(n.useState)(""),ue=Object(p.a)(se,2),me=ue[0],pe=ue[1],de=Object(n.useCallback)((function(e){""===e.target.value?(s(!0),re(ee[1])):D.length<4?(s(!0),re(ee[0])):(s(!1),re(""))}),[ee,D]),Ee=Object(n.useCallback)((function(e){""===e.target.value?(k(!0),ie(ee[1])):V.length<8?(k(!0),ie(ee[2])):""!==_&&V!==_?(k(!0),M(!0),ie(ee[3]),pe(ee[3])):(k(!1),M(!1),ie(""))}),[ee,V,_]),ge=Object(n.useCallback)((function(e){_!==V?(M(!0),k(!0),pe(ee[3]),ie(ee[3])):""===_?(M(!0),pe(ee[1])):(M(!1),k(!1),pe(""))}),[ee,_,V]),he=function(e){C&&P&&(ie(""),pe(""))},be=function(){var e=Object(m.a)(u.a.mark((function e(){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={username:D,password:V},n=a+H,e.next=4,fetch(n,{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify(t)});case 4:if((r=e.sent).ok){e.next=9;break}throw new Error("HTTP error! status: ".concat(r.status));case 9:return e.next=11,r.json();case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(x.a,{component:"main",maxWidth:"xs"},r.a.createElement(g.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(d.a,{className:t.avatar},r.a.createElement(y.a,null)),r.a.createElement(S.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:t.form,noValidate:!0},r.a.createElement(v.a,{container:!0,spacing:2},r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(h.a,{autoComplete:"uname",name:"username",variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",autoFocus:!0,error:i,onBlur:de,onChange:$,value:D,helperText:ne})),r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(h.a,{variant:"outlined",required:!0,fullWidth:!0,id:"userType",label:"Account Type",autoComplete:"userType",onChange:K,value:H,SelectProps:{native:!0},select:!0},[{id:1,label:"Personal"},{id:2,label:"Partner"}].map((function(e){return r.a.createElement("option",{key:e.id,value:e.label},e.label)})))),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(h.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",error:C,onBlur:Ee,onChange:Q,value:V,helperText:ce,onFocus:he})),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(h.a,{variant:"outlined",required:!0,fullWidth:!0,id:"confirm-password",label:"Confirm Password",type:"password",name:"confirm-password",autoComplete:"current-password",error:P,onBlur:ge,onChange:Z,value:_,helperText:me,onFocus:he})),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(b.a,{control:r.a.createElement(f.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."}))),r.a.createElement(E.a,{type:"button",fullWidth:!0,variant:"contained",className:t.submit,onClick:function(){be().then((function(e){alert("Success"),console.log(e)})).catch((function(e){return console.log(e)}))}},"Sign Up"),r.a.createElement(v.a,{container:!0,justify:"flex-end"},r.a.createElement(v.a,{item:!0},r.a.createElement(c.b,{to:"/login",variant:"body2"},"Already have an account? Sign in"))))),r.a.createElement(w.a,{mt:5},r.a.createElement(T,null)))}function M(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(P,{REGISTER_URL:"https://young-anchorage-59812.herokuapp.com/register/"}))}var W=t(86);function U(e){var a=e.children,t=Object(W.a)(e,["children"]),n=!!localStorage.getItem("token");return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.b,Object.assign({},t,{render:function(e){var t=e.location;return n?a:r.a.createElement(i.a,{to:{pathname:"/login",state:{from:t}}})}})))}var D=t(62),F=t(80),A=t(3),R=t(180),H=t(170),J=t(171),q=t(159),L=t(172),V=t(161),G=t(118),z=t(164),Y=t(81),_=t.n(Y),X=t(82),$=t.n(X),K=t(173),Q=t(174),Z=t(175),ee=t(83),ae=t.n(ee),te=t(84),ne=t.n(te),re=t(85),le=t.n(re),oe=t(68),ce=t.n(oe);function ie(e){return r.a.createElement(S.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},e.children)}function se(e){e.preventDefault()}var ue=Object(O.a)({depositContext:{flex:1}});function me(){var e=ue();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,null,"Recent Deposits"),r.a.createElement(S.a,{component:"p",variant:"h4"},"$3,024.00"),r.a.createElement(S.a,{color:"textSecondary",className:e.depositContext},"on 15 March, 2019"),r.a.createElement("div",null,r.a.createElement(z.a,{color:"primary",href:"#",onClick:se},"View balance")))}var pe=t(165),de=t(169),Ee=t(168),ge=t(166),he=t(167);function be(e,a,t,n,r,l){return{id:e,date:a,name:t,shipTo:n,paymentMethod:r,amount:l}}var fe=[be(0,"16 Mar, 2019","Elvis Presley","Tupelo, MS","VISA \u2800\u2022\u2022\u2022\u2022 3719",312.44),be(1,"16 Mar, 2019","Paul McCartney","London, UK","VISA \u2800\u2022\u2022\u2022\u2022 2574",866.99),be(2,"16 Mar, 2019","Tom Scholz","Boston, MA","MC \u2800\u2022\u2022\u2022\u2022 1253",100.81),be(3,"16 Mar, 2019","Michael Jackson","Gary, IN","AMEX \u2800\u2022\u2022\u2022\u2022 2000",654.39),be(4,"15 Mar, 2019","Bruce Springsteen","Long Branch, NJ","VISA \u2800\u2022\u2022\u2022\u2022 5919",212.79)];function ve(e){e.preventDefault()}var we=Object(O.a)((function(e){return{seeMore:{marginTop:e.spacing(3)}}}));function je(){var e=we();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,null,"Recent Orders"),r.a.createElement(pe.a,{size:"small"},r.a.createElement(ge.a,null,r.a.createElement(he.a,null,r.a.createElement(Ee.a,null,"Date"),r.a.createElement(Ee.a,null,"Name"),r.a.createElement(Ee.a,null,"Ship To"),r.a.createElement(Ee.a,null,"Payment Method"),r.a.createElement(Ee.a,{align:"right"},"Sale Amount"))),r.a.createElement(de.a,null,fe.map((function(e){return r.a.createElement(he.a,{key:e.id},r.a.createElement(Ee.a,null,e.date),r.a.createElement(Ee.a,null,e.name),r.a.createElement(Ee.a,null,e.shipTo),r.a.createElement(Ee.a,null,e.paymentMethod),r.a.createElement(Ee.a,{align:"right"},e.amount))})))),r.a.createElement("div",{className:e.seeMore},r.a.createElement(z.a,{color:"primary",href:"#",onClick:ve},"See more orders")))}function ye(){return r.a.createElement(S.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(z.a,{color:"inherit",href:"https://material-ui.com/"},"Ed Amor")," ",(new Date).getFullYear(),".")}var Se=Object(O.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(F.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(D.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function Oe(){var e=Se(),a=r.a.useState(!0),t=Object(p.a)(a,2),n=t[0],l=t[1],o=Object(A.a)(e.paper,e.fixedHeight),c=Object(i.g)(),s=function(){localStorage.clear(),c.replace("/")},u=JSON.parse(localStorage.getItem("user"));return r.a.createElement("div",{className:e.root},r.a.createElement(g.a,null),r.a.createElement(H.a,{position:"absolute",className:Object(A.a)(e.appBar,n&&e.appBarShift)},r.a.createElement(J.a,{className:e.toolbar},r.a.createElement(V.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){l(!0)},className:Object(A.a)(e.menuButton,n&&e.menuButtonHidden)},r.a.createElement(_.a,null)),r.a.createElement(S.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title},"Dashboard"),r.a.createElement(V.a,{color:"inherit",onClick:s},r.a.createElement(ce.a,null)))),r.a.createElement(R.a,{variant:"permanent",classes:{paper:Object(A.a)(e.drawerPaper,!n&&e.drawerPaperClose)},open:n},r.a.createElement("div",{className:e.toolbarIcon},r.a.createElement(V.a,{onClick:function(){l(!1)}},r.a.createElement($.a,null))),r.a.createElement(L.a,null),r.a.createElement(q.a,null,r.a.createElement(K.a,{button:!0},r.a.createElement(Q.a,null,r.a.createElement(ae.a,null)),r.a.createElement(Z.a,{primary:"Dashboard"})),r.a.createElement(K.a,{button:!0},r.a.createElement(Q.a,null,r.a.createElement(ne.a,null)),r.a.createElement(Z.a,{primary:"My Bookings"})),r.a.createElement(K.a,{button:!0},r.a.createElement(Q.a,null,r.a.createElement(le.a,null)),r.a.createElement(Z.a,{primary:"New Booking"}))),r.a.createElement(L.a,null),r.a.createElement(q.a,null,r.a.createElement(K.a,{button:!0,onClick:s},r.a.createElement(Q.a,null,r.a.createElement(ce.a,null)),r.a.createElement(Z.a,{primary:"Logout"})))),r.a.createElement("main",{className:e.content},r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(x.a,{maxWidth:"lg",className:e.container},r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",render:function(){return r.a.createElement(v.a,{container:!0,spacing:3},r.a.createElement(v.a,{item:!0,xs:12,md:8,lg:9},r.a.createElement(G.a,{className:o},r.a.createElement("div",null,r.a.createElement("h1",null,"Hello, ",u.username,"!"),r.a.createElement("p",null,"Welcome to your dashboard.")))),r.a.createElement(v.a,{item:!0,xs:12,md:4,lg:3},r.a.createElement(G.a,{className:o},r.a.createElement(me,null))),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(G.a,{className:e.paper},r.a.createElement(je,null))))}}),r.a.createElement(i.b,{path:"/bookings",render:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Bookings"))}})),r.a.createElement(w.a,{pt:4},r.a.createElement(ye,null)))))}function xe(){return r.a.createElement(i.b,{path:"/"},r.a.createElement(Oe,null))}var Ce=function(){return r.a.createElement(c.a,{basename:"/backapp3"},r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/login",children:r.a.createElement(B,null)}),r.a.createElement(i.b,{path:"/register",children:r.a.createElement(M,null)}),r.a.createElement(U,{path:"/"},r.a.createElement(xe,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[103,1,2]]]);
//# sourceMappingURL=main.8bc8c4b0.chunk.js.map
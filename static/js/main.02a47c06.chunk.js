(this["webpackJsonpbackapp-v2"]=this["webpackJsonpbackapp-v2"]||[]).push([[0],{74:function(e,a,t){e.exports=t(88)},79:function(e,a,t){},88:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(8),c=t.n(o),l=(t(79),t(28)),s=t(10),u=t(31),i=t.n(u),m=t(38),p=t(13),d=t(127),b=t(121),g=t(119),f=t(123),h=t(120),E=t(125),v=t(122),j=t(124),O=t(43),w=t.n(O),y=t(89),x=t(117),S=t(118);function C(){return r.a.createElement(y.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ","Ed Amor"," ",(new Date).getFullYear(),".")}var k=Object(x.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function T(e){var a=e.onChangeUsername,t=e.onChangePassword,n=e.onBlurUsername,o=e.onBlurPassword,c=e.uNError,s=e.pWError,u=e.uNHelpText,i=e.pWHelpText,m=e.handleSignIn,p=k();return r.a.createElement(S.a,{component:"main",maxWidth:"xs"},r.a.createElement(g.a,null),r.a.createElement("div",{className:p.paper},r.a.createElement(d.a,{className:p.avatar},r.a.createElement(w.a,null)),r.a.createElement(y.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:p.form,noValidate:!0},r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,onBlur:function(){return n()},onChange:function(e){return a(e.target.value)},helperText:u,error:c}),r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onBlur:function(){return o()},onChange:function(e){return t(e.target.value)},helperText:i,error:s}),r.a.createElement(h.a,{control:r.a.createElement(E.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(b.a,{type:"button",fullWidth:!0,variant:"contained",className:p.submit,onClick:m},"Sign In"),r.a.createElement(v.a,{container:!0,justify:"flex-end"},r.a.createElement(v.a,{item:!0},r.a.createElement(l.b,{to:"/register",variant:"body2"},"Don't have an account? Sign Up"))))),r.a.createElement(j.a,{mt:8},r.a.createElement(C,null)))}function N(){var e=Object(n.useState)(""),a=Object(p.a)(e,2),t=a[0],o=a[1],c=Object(n.useState)(""),l=Object(p.a)(c,2),s=l[0],u=l[1],d=Object(n.useState)(!1),b=Object(p.a)(d,2),g=b[0],f=b[1],h=Object(n.useState)(!1),E=Object(p.a)(h,2),v=E[0],j=E[1],O=Object(n.useState)(""),w=Object(p.a)(O,2),y=w[0],x=w[1],S=Object(n.useState)(""),C=Object(p.a)(S,2),k=C[0],N=C[1];function P(e){var a=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),t=decodeURIComponent(atob(a).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(t)}var W=function(){var e=Object(m.a)(i.a.mark((function e(){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={username:t,password:s},e.next=3,fetch("https://young-anchorage-59812.herokuapp.com/login",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify(a)});case 3:if((n=e.sent).ok){e.next=9;break}throw console.log("response status: "+n.status),new Error("HTTP error! status: ".concat(n.status));case 9:return e.next=11,n.text();case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(T,{onChangeUsername:function(e){return o(e)},onChangePassword:function(e){return u(e)},onBlurUsername:function(){f(!1),x("")},onBlurPassword:function(){j(!1),N("")},uNError:g,pWError:v,uNHelpText:y,pWHelpText:k,handleSignIn:function(e){W().then((function(e){"Username is invalid"===e&&(x(e),f(!0)),"Password is incorrect"===e?(N(e),j(!0)):(console.log("data: "+e),console.log("user: "+JSON.stringify(P(e).user)),localStorage.setItem("token",e),localStorage.setItem("user",P(e).user),x(""),f(!1),N(""),j(!1))})).catch((function(e){return console.log("error "+e)}))}}))}function P(){return r.a.createElement(y.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ","Ed Amor"," ",(new Date).getFullYear(),".")}var W=Object(x.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function U(e){var a=e.REGISTER_URL,t=W(),o=Object(n.useState)(!1),c=Object(p.a)(o,2),s=c[0],u=c[1],O=Object(n.useState)(!1),x=Object(p.a)(O,2),C=x[0],k=x[1],T=Object(n.useState)(!1),N=Object(p.a)(T,2),U=N[0],I=N[1],B=Object(n.useState)(""),F=Object(p.a)(B,2),R=F[0],q=F[1],D=Object(n.useState)("Personal"),H=Object(p.a)(D,2),J=H[0],A=H[1],_=Object(n.useState)(""),G=Object(p.a)(_,2),L=G[0],V=G[1],Y=Object(n.useState)(""),M=Object(p.a)(Y,2),$=M[0],z=M[1],K=Object(n.useCallback)((function(e){q(e.target.value.trim())}),[]),Q=Object(n.useCallback)((function(e){A(e.target.value.trim())}),[]),X=Object(n.useCallback)((function(e){V(e.target.value.trim())}),[]),Z=Object(n.useCallback)((function(e){z(e.target.value.trim())}),[]),ee=["Username be at least 4 characters","Field cannot be left blank","Password must be at least 8 characters","Passwords don't match"],ae=Object(n.useState)(""),te=Object(p.a)(ae,2),ne=te[0],re=te[1],oe=Object(n.useState)(""),ce=Object(p.a)(oe,2),le=ce[0],se=ce[1],ue=Object(n.useState)(""),ie=Object(p.a)(ue,2),me=ie[0],pe=ie[1],de=Object(n.useCallback)((function(e){""===e.target.value?(u(!0),re(ee[1])):R.length<4?(u(!0),re(ee[0])):(u(!1),re(""))}),[ee,R]),be=Object(n.useCallback)((function(e){""===e.target.value?(k(!0),se(ee[1])):L.length<8?(k(!0),se(ee[2])):""!==$&&L!==$?(k(!0),I(!0),se(ee[3]),pe(ee[3])):(k(!1),I(!1),se(""))}),[ee,L,$]),ge=Object(n.useCallback)((function(e){$!==L?(I(!0),k(!0),pe(ee[3]),se(ee[3])):""===$?(I(!0),pe(ee[1])):(I(!1),k(!1),pe(""))}),[ee,$,L]),fe=function(e){C&&U&&(se(""),pe(""))},he=function(){var e=Object(m.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={username:R,password:L},n=a+J,e.next=4,fetch(n,{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify(t)});case 4:if((r=e.sent).ok){e.next=9;break}throw new Error("HTTP error! status: ".concat(r.status));case 9:return e.next=11,r.json();case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(S.a,{component:"main",maxWidth:"xs"},r.a.createElement(g.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(d.a,{className:t.avatar},r.a.createElement(w.a,null)),r.a.createElement(y.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:t.form,noValidate:!0},r.a.createElement(v.a,{container:!0,spacing:2},r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(f.a,{autoComplete:"uname",name:"username",variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",autoFocus:!0,error:s,onBlur:de,onChange:K,value:R,helperText:ne})),r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(f.a,{variant:"outlined",required:!0,fullWidth:!0,id:"userType",label:"Account Type",autoComplete:"userType",onChange:Q,value:J,SelectProps:{native:!0},select:!0},[{id:1,label:"Personal"},{id:2,label:"Partner"}].map((function(e){return r.a.createElement("option",{key:e.id,value:e.label},e.label)})))),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(f.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",error:C,onBlur:be,onChange:X,value:L,helperText:le,onFocus:fe})),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(f.a,{variant:"outlined",required:!0,fullWidth:!0,id:"confirm-password",label:"Confirm Password",type:"password",name:"confirm-password",autoComplete:"current-password",error:U,onBlur:ge,onChange:Z,value:$,helperText:me,onFocus:fe})),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(h.a,{control:r.a.createElement(E.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."}))),r.a.createElement(b.a,{type:"button",fullWidth:!0,variant:"contained",className:t.submit,onClick:function(){he().then((function(e){alert("Success"),console.log(e)})).catch((function(e){return console.log(e)}))}},"Sign Up"),r.a.createElement(v.a,{container:!0,justify:"flex-end"},r.a.createElement(v.a,{item:!0},r.a.createElement(l.b,{to:"/login",variant:"body2"},"Already have an account? Sign in"))))),r.a.createElement(j.a,{mt:5},r.a.createElement(P,null)))}function I(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(U,{REGISTER_URL:"https://young-anchorage-59812.herokuapp.com/register/"}))}var B=t(53);function F(e){e.children;var a=Object(B.a)(e,["children"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.b,Object.assign({},a,{render:function(e){var a=e.location;return r.a.createElement(s.a,{to:{pathname:"/login",state:{from:a}}})}})))}function R(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Dashboard Route"))}var q=function(){return r.a.createElement(l.a,{basename:"/backapp3"},r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/login",children:r.a.createElement(N,null)}),r.a.createElement(s.b,{path:"/register",children:r.a.createElement(I,null)}),r.a.createElement(F,{exact:!0,path:"/"},r.a.createElement(R,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[74,1,2]]]);
//# sourceMappingURL=main.02a47c06.chunk.js.map